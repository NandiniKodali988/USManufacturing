<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}, "title": {"anchor": "middle"}}, "hconcat": [{"vconcat": [{"data": {"name": "data-29341c3e91a1a337331866c8b0bd4633"}, "mark": {"type": "circle"}, "encoding": {"color": {"field": "Labor productivity", "legend": null, "scale": {"scheme": "blues"}, "type": "quantitative"}, "size": {"field": "Labor productivity", "scale": {"range": [100, 1000]}, "title": "Labor Productivity (Index, 2017=100)", "type": "quantitative"}, "tooltip": [{"field": "Year", "type": "ordinal"}, {"field": "Unit labor costs", "format": ".2f", "title": "Unit Labor Costs", "type": "quantitative"}, {"field": "Labor productivity", "format": ".2f", "title": "Labor Productivity", "type": "quantitative"}], "x": {"axis": {"labelAngle": 0}, "field": "Year", "title": "Year", "type": "ordinal"}, "y": {"field": "Unit labor costs", "scale": {"domain": [80, 140]}, "title": "Unit Labor Costs (Index, 2017=100)", "type": "quantitative"}}, "height": 200, "title": "Bubble Chart: Labor Productivity and Unit Labor Costs", "transform": [{"filter": "datum.Year <= year_sel"}], "width": 600}, {"layer": [{"mark": {"type": "line", "color": "steelblue", "strokeWidth": 2}, "encoding": {"tooltip": [{"field": "Year", "type": "ordinal"}, {"field": "GrowthPct", "title": "Growth Rate (%)", "type": "quantitative"}], "x": {"axis": {"labelAngle": 0}, "field": "Year", "scale": {"domain": [2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024]}, "title": "Year", "type": "ordinal"}, "y": {"field": "GrowthPct", "scale": {"domain": [0, 4]}, "title": "Annual Growth Rate (%)", "type": "quantitative"}}, "transform": [{"filter": "datum.Year <= year_sel"}]}, {"mark": {"type": "point", "color": "steelblue", "size": 80}, "encoding": {"tooltip": [{"field": "Year", "type": "ordinal"}, {"field": "GrowthPct", "title": "Growth Rate (%)", "type": "quantitative"}], "x": {"axis": {"labelAngle": 0}, "field": "Year", "scale": {"domain": [2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024]}, "title": "Year", "type": "ordinal"}, "y": {"field": "GrowthPct", "scale": {"domain": [0, 4]}, "title": "Annual Growth Rate (%)", "type": "quantitative"}}, "transform": [{"filter": "datum.Year <= year_sel"}]}], "data": {"name": "data-ab1cdb49b0d1deb4c799be0e9dead4f0"}, "height": 100, "title": "Private Establishment Annual Growth Rate", "width": 600}]}, {"layer": [{"mark": {"type": "bar", "color": "steelblue"}, "encoding": {"x": {"axis": {"labelAngle": 0, "labels": true, "ticks": false}, "field": "Year", "title": null, "type": "ordinal"}, "y": {"axis": null, "field": "Average_Establishments", "scale": {"domain": [0, 420000]}, "title": null, "type": "quantitative"}}, "transform": [{"filter": "datum.Year == year_sel"}]}, {"mark": {"type": "text", "align": "center", "baseline": "bottom", "dy": -5}, "encoding": {"text": {"field": "Average_Establishments", "format": ",", "type": "quantitative"}, "x": {"axis": {"labelAngle": 0}, "field": "Year", "type": "ordinal"}, "y": {"field": "Average_Establishments", "type": "quantitative"}}, "transform": [{"filter": "datum.Year == year_sel"}]}], "data": {"name": "data-432d7ba2fe1b7eeaf9c77408b3bb1719"}, "height": 320, "title": "Average Private Establishments", "width": 120}], "params": [{"name": "year_sel", "bind": {"input": "range", "max": 2024, "min": 2013, "name": "Show up to Year: ", "step": 1}, "value": 2013}], "title": "Labor Efficiency, Growth, and Establishments", "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-29341c3e91a1a337331866c8b0bd4633": [{"Year": 2013, "Labor productivity": 102.84175, "Unit labor costs": 88.687}, {"Year": 2014, "Labor productivity": 102.54325, "Unit labor costs": 91.2965}, {"Year": 2015, "Labor productivity": 100.76275000000001, "Unit labor costs": 95.46549999999999}, {"Year": 2016, "Labor productivity": 100.713, "Unit labor costs": 96.18725}, {"Year": 2017, "Labor productivity": 100.0085, "Unit labor costs": 99.9975}, {"Year": 2018, "Labor productivity": 100.22675, "Unit labor costs": 102.189}, {"Year": 2019, "Labor productivity": 97.90625, "Unit labor costs": 107.20625}, {"Year": 2020, "Labor productivity": 97.7895, "Unit labor costs": 114.539}, {"Year": 2021, "Labor productivity": 99.48349999999999, "Unit labor costs": 115.33175}, {"Year": 2022, "Labor productivity": 98.189, "Unit labor costs": 120.61175}, {"Year": 2023, "Labor productivity": 98.03075, "Unit labor costs": 126.7575}, {"Year": 2024, "Labor productivity": 98.67175, "Unit labor costs": 130.99}], "data-ab1cdb49b0d1deb4c799be0e9dead4f0": [{"Year": 2013, "Average_Establishments": 334740.5, "GrowthPct": 0.0}, {"Year": 2014, "Average_Establishments": 337760.0, "GrowthPct": 0.9}, {"Year": 2015, "Average_Establishments": 340614.5, "GrowthPct": 0.85}, {"Year": 2016, "Average_Establishments": 343686.5, "GrowthPct": 0.9}, {"Year": 2017, "Average_Establishments": 346723.25, "GrowthPct": 0.88}, {"Year": 2018, "Average_Establishments": 351449.5, "GrowthPct": 1.36}, {"Year": 2019, "Average_Establishments": 355019.0, "GrowthPct": 1.02}, {"Year": 2020, "Average_Establishments": 358272.0, "GrowthPct": 0.92}, {"Year": 2021, "Average_Establishments": 366367.5, "GrowthPct": 2.26}, {"Year": 2022, "Average_Establishments": 380710.5, "GrowthPct": 3.91}, {"Year": 2023, "Average_Establishments": 392201.25, "GrowthPct": 3.02}, {"Year": 2024, "Average_Establishments": 400930.3333333333, "GrowthPct": 2.23}], "data-432d7ba2fe1b7eeaf9c77408b3bb1719": [{"Year": 2013, "Average_Establishments": 334740.5}, {"Year": 2014, "Average_Establishments": 337760.0}, {"Year": 2015, "Average_Establishments": 340614.5}, {"Year": 2016, "Average_Establishments": 343686.5}, {"Year": 2017, "Average_Establishments": 346723.25}, {"Year": 2018, "Average_Establishments": 351449.5}, {"Year": 2019, "Average_Establishments": 355019.0}, {"Year": 2020, "Average_Establishments": 358272.0}, {"Year": 2021, "Average_Establishments": 366367.5}, {"Year": 2022, "Average_Establishments": 380710.5}, {"Year": 2023, "Average_Establishments": 392201.25}, {"Year": 2024, "Average_Establishments": 400930.3333333333}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>