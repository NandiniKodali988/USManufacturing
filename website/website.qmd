---
title: "Manufacturing Analysis"
format:
  html:
    toc: false
    embed-resources: true
    self-contained: true
    output-dir: website
execute:
  kernel: python3
  echo: false
---



# US Manufacture
Understanding recent trends, sector drivers, and the evolving role of manufacturing in the U.S. economy.



## Introduction
Over the past decade, U.S. manufacturing has faced significant shifts driven by globalization, technological innovation, and major policy interventions. The manufacturing sector has long been a pillar of the American economy, but competitive pressures from abroad, rising domestic costs, and unexpected disruptions such as the COVID-19 pandemic have reshaped its trajectory.
This project aims to provide insight into the factors that have driven the trends observed in the U.S. manufacturing sector. We first examine the U.S. manufacturing industry from a global perspective, analyzing how its contribution to the world's total manufacturing output has evolved over time, as well as its role within the broader U.S. economy.
Subsequently, we focus internally on three closely related dimensions—the domestic market, enterprises, and industry workers—to uncover deeper insights into the structural changes shaping the sector.


## Analytical Question
To analyze this, we form the following analytical questions

- How does the U.S. manufacturing industry experience overall growth or decline in recent years?
- What are the key factors influencing these trends?
- What role has government policy (e.g., reshoring efforts) played in shaping the manufacturing
industry?



# A Big-Picture View of U.S. Manufacturing

## Global Positioning of U.S. Manufacturing (2013–2023)

```{python}
import pandas as pd
import plotly.express as px
df = pd.read_csv("../data/raw/manufacturing-value-added-to-gdp.csv")
# rename the GDP column for convenience
df = df.rename(columns={"Manufacturing, value added (% of GDP)": "ManufacturingGDP"})
df = df[(df['Year'] >= 2013) & (df['Year'] <= 2024)]
df = df.dropna(subset=['Code']).reset_index(drop=True)
df_filtered = df[(df["Year"] >= 2013) & (df["Year"] <= 2024)]
# Create animated choropleth map
fig = px.choropleth(
    df_filtered,
    locations="Entity",
    locationmode="country names",   # Use full country names
    color="ManufacturingGDP",
    hover_name="Entity",
    animation_frame="Year",
    color_continuous_scale="Blues",
    range_color=[0, 40],            # Adjust range if needed
    title="Manufacturing as % of GDP by Country (2013–2024)"
)
fig.update_layout(
    geo=dict(showframe=False, showcoastlines=False),
    coloraxis_colorbar=dict(title="% of GDP")
)
fig.show()
```

- The map shows the share of manufacturing output as a percentage of GDP across countries.
- Higher percentages indicate economies more dependent on manufacturing (e.g., China, Vietnam).
- Advanced economies, including the U.S., have a lower manufacturing share, reflecting a shift toward services
- For the U.S., manufacturing remains sizable but accounts for a smaller share of its national economy over time
- This trend highlights increased external competition and sets the stage for analyzing internal market, enterprise, and workforce dynamics.


## Manufacturing’s Place in the U.S.

```{python}
import plotly.express as px
import pandas as pd
import numpy as np
import plotly.express as px
df = pd.read_csv("../data/Processed/GdpByInd.csv")
# Clean up column names just in case
df.columns = df.columns.str.strip()

# Identify actual year columns (assuming they are 4-digit years)
year_columns = [col for col in df.columns if col.isdigit() and len(col) == 4]

# Melt the data safely
df_long = df.melt(
    id_vars=["Group", "Subgroup"],
    value_vars=year_columns,
    var_name="Year",
    value_name="Value"
)

# Convert year to integer
df_long["Year"] = df_long["Year"].astype(int)

df_grouped = df_long.groupby(["Group", "Year"], as_index=False)["Value"].sum()

unique_groups = df_grouped["Group"].unique()
group_positions = {
    group: (np.cos(i * 2 * np.pi / len(unique_groups)) * 3,
            np.sin(i * 2 * np.pi / len(unique_groups)) * 3)
    for i, group in enumerate(unique_groups)
}

# Filter for 2013–2024
df_grouped_filtered = df_grouped[df_grouped["Year"].between(2013, 2024)].copy()

# Convert from millions to billions
df_grouped_filtered["Value_Trillions"] = df_grouped_filtered["Value"] / 1000000

# Step 2: Add a column for custom coloring
df_grouped_filtered["Color"] = df_grouped_filtered["Group"].apply(
    lambda g: "Manufacturing" if g == "Manufacturing" else "Other"
)

# Step 3: Define color map (blue for Manufacturing, gray for others)
color_map = {
    "Manufacturing": "steelblue",
    "Other": "lightgray"
}

fig = px.bar(
    df_grouped_filtered,
    x="Value_Trillions",
    y="Group",
    color="Color",
    animation_frame="Year",
    orientation='h',
    color_discrete_map=color_map,
    title="Group-Level Output Race Over Time (2013–2024)",
    hover_data={"Color": False}  # hide 'Color' in tooltip
)

# Set custom tooltip on static traces (initial frame)
for trace in fig.data:
    trace.hovertemplate = "<b>%{y}</b><br>Value (Trillion USD): %{x:.2f}<extra></extra>"

# Set custom tooltip on animated frames
for frame in fig.frames:
    for trace in frame.data:
        trace.hovertemplate = "<b>%{y}</b><br>Value (Trillion USD): %{x:.2f}<extra></extra>"

# Layout settings
fig.update_layout(
    showlegend=False,
    xaxis=dict(
        title="Output (Trillions USD)",
        tickformat=".2f",
        range=[0, 12.5]
    ),
    margin=dict(t=40, l=100, r=40, b=40)
)

fig.show()

```

```{python}
import pandas as pd
import altair as alt
import ipywidgets as widgets
from IPython.display import display
from ipywidgets import VBox

# Read data
df_clean = pd.read_csv("../data/Processed/employment_rate.csv")
df_clean['Month'] = pd.to_datetime(df_clean['Month'], errors='coerce')

# Original industries to plot
industries_to_plot = [
    'Manufacturing',
    'Construction',
    'Retail trade',
    'Transportation and warehousing',
    'Leisure and hospitality',
    'Financial activities'
]

# Mapping of original industry names to new legend labels
legend_labels = {
    'Manufacturing': 'Manufacturing',
    'Construction': 'Utilities & Construction',
    'Retail trade': 'Retail trade',
    'Transportation and warehousing': 'Transportation and warehousing',
    'Leisure and hospitality': 'Health, Education & Leisure',
    'Financial activities': 'Information & Finance'
}

# Melt data to long format
df_long = df_clean.melt(
    id_vars=['Month'],
    value_vars=industries_to_plot,
    var_name='Industry',
    value_name='Employment'
)

# Add custom legend labels based on the mapping
df_long['Industry_legend'] = df_long['Industry'].map(legend_labels)

# Create the selection widgets for start and end months
start_picker = widgets.SelectionSlider(
    options=list(df_clean['Month'].dt.to_period('M').astype(str)),
    description='Start Month',
    layout=widgets.Layout(width='800px')
)

end_picker = widgets.SelectionSlider(
    options=list(df_clean['Month'].dt.to_period('M').astype(str)),
    description='End Month',
    layout=widgets.Layout(width='800px')
)

# Explicitly define the desired order of industries for the legend
ordered_industries = [
    'Manufacturing',
    'Utilities & Construction',
    'Retail trade',
    'Transportation and warehousing',
    'Health, Education & Leisure',
    'Information & Finance'
]

# Create the stacked area chart using original Employment values (stacking them)
area_stack_chart = alt.Chart(df_long).mark_area(opacity=0.8).encode(
    x=alt.X('Month:T', title='Year'),
    y=alt.Y('Employment:Q', stack='zero', title='Employment (Thousands)'),  # stack='zero' for stacked area chart
    color=alt.Color('Industry_legend:N', scale=alt.Scale(domain=ordered_industries, range=['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b'])),
    tooltip=['Month:T', 'Industry_legend:N', 'Employment:Q']
).properties(
    width='container',  # Makes the width responsive
    height=400,  # Constrained height for better aspect ratio
    title='Stacked Employment Trend by Industry (2013–2023)'
)

# Adjust the legend position to be outside the plot and order it
area_stack_chart = area_stack_chart.configure_legend(
    orient='top',  # Legend at the top of the plot
    direction='horizontal',  # Horizontal legend
    title=None,  # No title for the legend
    offset=40,  # Increased spacing between chart and legend
    padding=20,  # Added padding inside the legend box
    labelFontSize=12,  # Set the font size of the legend labels
)

# Display the chart and the widgets
display(area_stack_chart)

```


- The U.S. labor market has experienced steady growth across most sectors over the past decade.
- Employment in manufacturing remained relatively stable compared to other industries.
- Leisure and hospitality, and transportation and warehousing, showed much faster employment growth, especially after the pandemic.
- Despite moderate recovery post-2020, manufacturing's employment share relative to the overall economy continued to decline.
- This trend reflects a long-term structural shift where services and logistics increasingly dominate U.S. employment, while manufacturing's role diminishes.
- Understanding this decline is key to analyzing labor dynamics within the manufacturing sector itself.


## Findings

- Gradual Decline: U.S. manufacturing’s global and domestic role is shrinking.
- Shifting Economic Structures: Increased external competition and a transition to a service-driven economy.
- Deeper Internal Analysis: Focus on the domestic market, enterprises, and workforce to understand the full scope of change.


# From Global Trends to Internal Realities: U.S. Manufacturing in Focus

## Trends in Domestic Market and Import Dynamics

:::{.panel-tabset}
#### Policy and Enterprise Developments
<iframe src="../img/Price_Index.html" width="200%" height="750px" frameborder="0"></iframe>

:::


- Between 2013 and 2024, imported manufactured goods consistently maintained a price advantage over domestic products, with this advantage deepening significantly between 2019 and 2021.
- This period coincided with a notable increase in the total value of imported goods, reflecting the strengthening competitive pressure on U.S. manufacturing.
- Although domestic manufacturing output also grew, the faster expansion of imports led to a steady rise in the share of imported goods within the U.S. manufacturing market, reaching historic highs by 2024.
- These trends suggest that price dynamics, market expansion, and evolving procurement preferences collectively contributed to reshaping the competitive landscape of U.S. manufacturing.
 

## Policy and Enterprise Developments

:::{.panel-tabset}
#### Policy and Enterprise Developments
<iframe src="../img/cost_eff_producer.html" width="200%" height="600px" frameborder="0"></iframe>

:::

- Between 2013 and 2024, the U.S. manufacturing sector experienced rising unit labor costs with only marginal gains in labor productivity, intensifying cost pressures on enterprises.
- Policy interventions—including tariff implementations, executive orders, and advanced manufacturing strategies—coincided with noticeable shifts in enterprise growth rates.
- While these policies stimulated short-term increases in private manufacturing establishments, the effects were not sustained, suggesting structural challenges beyond policy incentives.
- Overall, rising costs and limited productivity improvements highlight the difficulties faced by enterprises in adapting to a more competitive and rapidly evolving manufacturing landscape.
 

## Workforce Conditions in U.S. Manufacturing

:::{.panel-tabset}
#### Workforce Conditions in U.S. Manufacturing
<iframe src="../img/workers.html" width="200%" height="750px" frameborder="0"></iframe>

:::

- The U.S. manufacturing workforce underwent significant shifts between 2013 and 2024.
- While hourly earnings and total compensation steadily increased before the pandemic, they accelerated sharply after 2020, reflecting intensified competition for labor and heightened cost burdens for employers.
- Notably, total compensation—encompassing both wages and benefits—grew faster than base earnings alone, emphasizing the rising importance of comprehensive employee packages.
- Meanwhile, despite a rapid rebound in employment and job openings following the pandemic shock, growth momentum weakened after 2022.
- Unemployment rates returned to low pre-pandemic levels, yet the net expansion of manufacturing establishments slowed, signaling deeper structural challenges in sustaining a dynamic industrial labor force.


# Conclusion
 
- U.S. manufacturing’s global and domestic significance has steadily declined over the past decade, reflecting structural shifts toward services.
- Imported manufactured goods captured an increasing share of the U.S. market, driven by relative price advantages, especially after 2020.
- Policy interventions stimulated short-term growth in manufacturing establishments, but long-term structural challenges persist.
- Labor costs surged sharply post-2020, intensifying pressures on enterprises despite partial employment recovery
- Future success will depend on deep transformations in labor practices, cost efficiency, supply chain strategies, and innovation capabilities.
 